        name    userio1IOP     set     0UIO     set     0        abs** experimental driver for UIO purpose that should be run on the IOP * processor. It is assumed that this IOP processor is running a ROM* monitor program. The S1 version of the binary can be transferred* via serial ports to PC and back to the ROM loader**        opt     nol        lib     ../include/macdefs.h        lib     ../include/fio.h        opt     lis,exp*USERIO  equ     $8000Code    equ     $4000*        org     Codestart   equ    *        orcc    #$50        ldy     #USERIO        lda     $ff        lbeq    loop*        clr     cpu_fioF        lda     cpu_fio        cmpa    #'R        bne     loop        ldb     cpu_fio4        tfr     y,x        abx        ldb     cpu_fio5        stb     fio_cpu5        ldu     #fifo01      lda     0,x+        sta     0,u+        decb        bne     01b        lda     cpu_fio        sta     fio_cpu        clr     fio_cpu1        lda     #$ff        sta     fio_cpuF*loop    nop        lda     $807d    debug acia        cmpa    #'        bne     04f10      swi04      jmp     start        end     start