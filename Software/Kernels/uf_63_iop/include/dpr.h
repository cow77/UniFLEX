 sttl Dual_Port RAM Simulation Structure pag** -- As seen by Main 6809 CPU (UniFLEX)*DPRF_SIZ equ   512             Size of FIFO buffer         ifc   &a,'GPP'        * UniFLEX         base   $0 -- Dual port RAM         else         org    $0 -- Shared Dual Port RAM         endif*dpr_cpu  rmb    1               DPR -> CPU codedpr_cpu1 rmb    1               -- transaction refdpr_cpu2 rmb    1               -- size flagdpr_cpu3 rmb    1               -- block #Hdpr_cpu4 rmb    1               -- block #Mdpr_cpu5 rmb    1               -- block #Ldpr_cpu6 rmb    1dpr_cpu7 rmb    1*cpu_dpr  rmb    1               CPU -> DPR codecpu_dpr1 rmb    1               -- transaction refcpu_dpr2 rmb    1               -- size flagcpu_dpr3 rmb    1               -- block #Hcpu_dpr4 rmb    1               -- block #Mcpu_dpr5 rmb    1               -- block #Lcpu_dpr6 rmb    1cpu_dpr7 rmb    1*dpr_f_cnt rmb   2               -- data counter*         rmb    32-(*-dpr_cpu)   ** Filler ***dprf     rmb DPRF_SIZ       actual FIFO             rmb $400-4-(*-dpr_cpu)* TOP of dual port RAMdpr_fgpp rmb    1               debug data from GPPdpr_tgpp rmb    1               debug data to GPPdpr_cpuF rmb    1               Non-zero when mailbox has datacpu_dprF rmb    1               Non-zero when mailbox has data         ifc    &a,'GPP'** DPR Task Priority*   -- Set to make task uninterruptable while*   -- actually using the DPR*DPRPRI set 15** transaction slots*                base    0tran_val0       rmb     1       transaction codetran_val1       rmb     1       transaction reftran_val2       rmb     1       value 0 (size flag)tran_val3       rmb     1       value 1 (block #H)tran_val4       rmb     1       value 2 (block #M)tran_val5       rmb     1       value 3 (block #L)tran_val6       rmb     1tran_val7       rmb     1*TRAN_SIZE       equ     *** DPR Control structures*DPR_MXTR  equ   20              # concurrent transactions / GPP* IOP Control         base    0dpr_mbx  rmb     2               Mailbox interlock - Task id of lockerdpr_fifo rmb     2               FIFO interlock - Task id of lockerdpr_intc rmb     1               Set non-zero if message interrupt was misseddpr_tflg rmb     1               Waiting on transaction slot semaphoredpr_dba  rmb     2               dual port ram base addressdpr_irqa rmb     2               IRQ test locationdpr_tran rmb     DPR_MXTR*TRAN_SIZE transaction slots*DPR_SIZE equ    * endif